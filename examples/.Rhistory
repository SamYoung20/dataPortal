library(shiny); runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
if(!require(devtools)) install.packages("devtools")
if(!require(leaflet)) install_github("rstudio/leaflet")
install.packages("leaflet")
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
install.packages("rjson")
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=2ce19df4-7070-4e0a-b009-c92e7e2b2f11"
json_data <- fromJSON(file=json_file)
library(rjson)
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=2ce19df4-7070-4e0a-b009-c92e7e2b2f11"
json_data <- fromJSON(file=json_file)
str(json_data)
json_data$result
head(json_data$result)
result = json_data$result
fields = result$fields
str(fields)
records = result$records
library(jsonlite)
library(jsonlite)
library(jsonlite)
json_data <- fromJSON("https://data.boston.gov/api/action/datastore_search?resource_id=2ce19df4-7070-4e0a-b009-c92e7e2b2f11")
json_data <- fromJSON("https://data.boston.gov/api/action/datastore_search?resource_id=15e7fa44-b9a8-42da-82e1-304e43460095")
records = json_data$result$records
str(records)
json_data <- fromJSON("https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5")
records = json_data$result$records
records <- json_data$result$records
records
library(shiny); runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5"
json_data <- fromJSON(file=json_file)
records <- json_data$result$records
points <- cbind(records$POINT_X, records$POINT_Y)
runApp('Documents/Boston Fellows/TestShinyApp.R')
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5"
json_data <- fromJSON(file=json_file)
records <- json_data$result$records
points <- cbind(records$POINT_X, records$POINT_Y)
points
points <- c(records$POINT_X, records$POINT_Y)
points
records$POINT_X
records
runApp('Documents/Boston Fellows/TestShinyApp.R')
library(shiny); runApp('Documents/Boston Fellows/TestShinyApp.R')
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5"
json_data <- fromJSON(file=json_file)
records <- json_data$result$records
points <- cbind(records$POINT_X, records$POINT_Y)
library(rjson)''
library(rjson)
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5"
json_data <- fromJSON(file=json_file)
records <- json_data$result$records
points <- cbind(records$POINT_X, records$POINT_Y)
library(jsonlite)
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5"
json_data <- fromJSON(file=json_file)
records <- json_data$result$records
points <- cbind(records$POINT_X, records$POINT_Y)
json_file <- "https://data.boston.gov/api/action/datastore_search?resource_id=0b2be5cb-89c6-4328-93be-c54ba723f8db&limit=5"
records = fromJSON(json_data$result$records)
library(shiny); runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/TestShinyApp.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
json_file <- "http://bostonopendata-boston.opendata.arcgis.com/datasets/9a3a8c427add450eaf45a470245680fc_5.geojson"
json_data <- fromJSON(json_file)
features = json_data$features
leaflet() %>% setView(lng = -98.583, lat = 39.833, zoom = 3) %>%
addTiles() %>%
addGeoJSON(features, weight = 1, color = "#444444", fill = FALSE)
json_file <- "http://bostonopendata-boston.opendata.arcgis.com/datasets/9a3a8c427add450eaf45a470245680fc_5.geojson"
json_data <- readLines(json_file)
topoData <- readLines(json_file) %>% paste(collapse = "\n")
leaflet() %>%
addProviderTiles(providers$Stamen.TonerLite) %>%
addTopoJSON(topoData, weight = 1, color = "#444444", fill = FALSE)
leaflet() %>%
addProviderTiles(providers$Stamen.Watercolor) %>%
addGeoJSON(topoData, weight = 1, color = "#444444", fill = FALSE)
leaflet() %>%
addProviderTiles(providers$Stamen.Watercolor) %>%
addGeoJSON(topoData, weight = 1, color = "#444444", fill = FALSE)
leaflet() %>%
addProviderTiles(providers$Stamen.Watercolor) %>%
addGeoJSON(topoData, weight = 5, color = "#444444", fill = FALSE)
leaflet() %>%
addProviderTiles(providers$Stamen.TonerBackground) %>%
addGeoJSON(topoData, weight = 5, color = "#444444", fill = FALSE)
leaflet() %>%
addProviderTiles(providers$Stamen.TonerBackground) %>%
addGeoJSON(topoData, weight = 5, color = "red", fill = FALSE)
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
policeStationLink <- "http://bostonopendata-boston.opendata.arcgis.com/datasets/e5a0066d38ac4e2abbc7918197a4f6af_6.geojson"
policeStationData <- readLines(policeStationLink) %>% paste(collapse = "\n")
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyDensityExample.R')
runApp('Documents/Boston Fellows/ShinyDensityExample.R')
library(shiny); runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyMarkerExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/ShinyZoneExample.R')
library(shiny); runApp('Documents/Boston Fellows/dataPortal/examples/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/ShinyZoneExample.R')
tots <- read.csv("http://bostonopendata-boston.opendata.arcgis.com/datasets/5409b7735d384798b2a360aa47c9b128_0.csv")
library(shiny); runApp('Documents/Boston Fellows/dataPortal/examples/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/ShinyZoneExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
markerData <- read.csv("http://bostonopendata-boston.opendata.arcgis.com/datasets/492746f09dde475285b01ae7fc95950e_1.csv")
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
?popupOptions
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvClusterExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvClusterExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvClusterExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvClusterExample.R')
runApp('Documents/Boston Fellows/dataPortal/examples/csvClusterExample.R')
crimeData <- read.csv("https://data.boston.gov/dataset/6220d948-eae2-4e4b-8723-2dc8e67722a3/resource/12cb3883-56f5-47de-afa5-3b1cf61b257b/download/crime.csv")
publicWorkData <- read.csv("https://data.boston.gov/dataset/f9f57091-92f3-463a-8f1c-93e46361296d/resource/36fcf981-e414-4891-93ea-f5905cec46fc/download/streetconstruction.csv")
neighborhoodJson <- rgdal::readOGR("http://bostonopendata-boston.opendata.arcgis.com/datasets/3525b0ee6e6b427f9aab5d0a1d0a1a28_0.geojson", "OGRGeoJSON")
library(shiny); runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
publicWorkData$Neighborhood
str(publicWorkData$Neighborhood)
table(publicWorkData$Neighborhood)
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood))
neighborhoodWorkCount
neighborhoodJson@data$Name
s <- strsplit(neighborhoodWorkCount$Var1, split = "/")
neighborhoodWorkCount$Var1
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood), stringsAsFactors = FALSE)
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood, stringsAsFactors = FALSE))
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood))
library(dplyr)
neighborhoodWorkCount %>% mutate_if(is.factor, as.character) -> neighborhoodWorkCount
neighborhoodWorkCount
s <- strsplit(neighborhoodWorkCount$Var1, split = "/")
data.frame(V1 = unlist(s), V2 = rep(neighborhoodWorkCount$V2, sapply(s, length)))
data.frame(V1 = unlist(s), V2 = rep(neighborhoodWorkCount$Freq, sapply(s, length)))
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood))
neighborhoodWorkCount %>% mutate_if(is.factor, as.character) -> neighborhoodWorkCount
s <- strsplit(neighborhoodWorkCount$Var1, split = "/")
neighborhoodWorkCount <- data.frame(V1 = unlist(s), V2 = rep(neighborhoodWorkCount$Freq, sapply(s, length)))
neighborhoodWorkCount
neighborhoodWorkCount <- data.frame(neighborhood = unlist(s), freq = rep(neighborhoodWorkCount$Freq, sapply(s, length)))
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood))
neighborhoodWorkCount %>% mutate_if(is.factor, as.character) -> neighborhoodWorkCount
s <- strsplit(neighborhoodWorkCount$Var1, split = "/")
neighborhoodWorkCount <- data.frame(neighborhood = unlist(s), freq = rep(neighborhoodWorkCount$Freq, sapply(s, length)))
neighborhoodWorkCount
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
neighborhoodWorkCount[ROXBURY]
neighborhoodWorkCount[,]
neighborhoodWorkCount[ROXBURY,]
neighborhoodWorkCount["ROXBURY",]
neighborhoodWorkCount["FENWAY",]
neighborhoodWorkCount[,"FENWAY"]
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood))
neighborhoodWorkCount %>% mutate_if(is.factor, as.character) -> neighborhoodWorkCount
s <- strsplit(neighborhoodWorkCount$Var1, split = "/")
neighborhoodWorkCount <- data.matrix(neighborhood = unlist(s), freq = rep(neighborhoodWorkCount$Freq, sapply(s, length)))
neighborhoodWorkCount = data.frame(table(publicWorkData$Neighborhood))
neighborhoodWorkCount %>% mutate_if(is.factor, as.character) -> neighborhoodWorkCount
s <- strsplit(neighborhoodWorkCount$Var1, split = "/")
neighborhoodWorkCount <- data.frame(neighborhood = unlist(s), freq = rep(neighborhoodWorkCount$Freq, sapply(s, length)))
data.matrix(neighborhoodWorkCount)
data.table(neighborhoodWorkCount)
data.table(neighborhoodWorkCount)
table(neighborhoodWorkCount)
neighborhoodWorkCount
neighborhoodWorkCount$neighborhood["CHARLESTOWN"]
neighborhoodWorkCount$neighborhood
neighborhoodWorkCount$neighborhood[5]
library(spatialEco)
pts.poly <- point.in.poly(crimeData, neighborhoodJson)
numPollsInZones <- tapply(pts.poly@data$Name, pts.poly@data$OBJECTID, FUN=length)
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
crimeXY <- crime[,c(Lat,Long)]
crimeXY <- crimeData[,c(Lat,Long)]
crimeXY <- crimeData[c(Lat,Long),]
crimeData["Lat"]
crimeXY <- crimeData[,c("Lat","Long")]
library(sp)
spdf <- SpatialPointsDataFrame(coords = crimeXY, data = crimeData)
install.packages("rgeos")
sp::coordinates(crimeData) <- ~Long+Lat
crimeXY <- crimeXY[!is.na(d)]
crimeXY <- crimeXY[!is.na(crimeXY)]
crimeXY <- crimeData[,c("Lat","Long")]
crimeXY <- crimeXY[,!is.na(crimeXY)]
crimeXY[complete.cases(crimeXY),]
xy = crimeXY[complete.cases(crimeXY),]
sp::coordinates(xy) <- ~Long+Lat
sp::over(xy, neighborhoodJson)
sp::proj4string(xy) <- sp::proj4string(neighborhoodJson)
sp::over(xy, neighborhoodJson)
over = sp::over(xy, neighborhoodJson)
table(over)
crimeXY <- crimeData[,c("Lat","Long")]
xy <- crimeXY[complete.cases(crimeXY),]
sp::proj4string(xy) <- sp::proj4string(neighborhoodJson)
over <- sp::over(xy, neighborhoodJson)
crimeLink <- "https://data.boston.gov/dataset/6220d948-eae2-4e4b-8723-2dc8e67722a3/resource/12cb3883-56f5-47de-afa5-3b1cf61b257b/download/crime.csv"
neighborhoodLink <- "http://bostonopendata-boston.opendata.arcgis.com/datasets/3525b0ee6e6b427f9aab5d0a1d0a1a28_0.geojson"
crimeData <- readRDS(crimeFile)
crimeFile <- "./data/crime.rds"
crimeData <- readRDS(crimeFile)
crimeData <- read.csv(crimeLink)
crimeXY <- crimeData[,c("Lat","Long")]
xy <- crimeXY[complete.cases(crimeXY),]
sp::proj4string(xy) <- sp::proj4string(neighborhoodJson)
neighborhoodJson <- rgdal::readOGR(neighborhoodLink, "OGRGeoJSON")
sp::proj4string(xy) <- sp::proj4string(neighborhoodJson)
sp::coordinates(xy) <- ~Long+Lat
sp::proj4string(xy) <- sp::proj4string(neighborhoodJson)
over <- sp::over(xy, neighborhoodJson)
ts.poly <- point.in.poly(xy, neighborhoodJson)
complete <- crimeData[complete.cases(crimeData),]
sp::coordinates(complete) <- ~Long+Lat
sp::proj4string(complete) <- sp::proj4string(neighborhoodJson)
ts.poly <- point.in.poly(complete, neighborhoodJson)
publicWorkData <- read.csv(publicWorkLink)
publicWorkLink <- "https://data.boston.gov/dataset/f9f57091-92f3-463a-8f1c-93e46361296d/resource/36fcf981-e414-4891-93ea-f5905cec46fc/download/streetconstruction.csv"
publicWorkData <- read.csv(publicWorkLink)
publicWorkData$Neighborhood
neighborhoodJson@data$Name
pts.poly <- point.in.poly(complete, neighborhoodJson)
numPollsInZones <- tapply(pts.poly@data$Name, pts.poly@data$Neighborhood_ID, FUN=length)
head(pts.poly)
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
numPollsInZones <- tapply(pts.poly@data$Name, pts.poly@data$OBJECTID, FUN=length)
numPollsInZones
numPollsInZones <- tapply(pts.poly@data$Name, pts.poly@data$Neighborhood_ID, FUN=length)
numPollsInZones
numPollsInZones <- tapply(pts.poly@data$OBJECTID, pts.poly@data$Name, FUN=length)
numPollsInZones
numPollsInZones["Allston"]
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
neighborhoodJson <- rgdal::readOGR(neighborhoodLink, "OGRGeoJSON")
neighborhoodLink <- "http://bostonopendata-boston.opendata.arcgis.com/datasets/3525b0ee6e6b427f9aab5d0a1d0a1a28_0.geojson"
neighborhoodJson <- rgdal::readOGR(neighborhoodLink, "OGRGeoJSON")
neighborhoodJson <- readOGR(neighborhoodLink, "OGRGeoJSON")
runApp('Documents/Boston Fellows/dataPortal/examples/DevelopingNeighborhoodCrime.R')
